{"ast":null,"code":"var _jsxFileName = \"/home/mahidhar/Desktop/ReactApp/reels/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport { storage, auth, provider } from \"./firebase\";\nimport { ref, uploadBytes, listAll, getDownloadURL } from \"firebase/storage\";\nimport { signInWithPopup, onAuthStateChanged, signOut } from \"firebase/auth\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [videos, setVideos] = useState([]);\n  const [videoUpload, setVideoUpload] = useState(null);\n  const [currentVideoIndex, setCurrentVideoIndex] = useState(0);\n  useEffect(() => {\n    const videoRef = ref(storage, \"images\");\n    const fetchVideos = async () => {\n      try {\n        const response = await listAll(videoRef);\n        const urls = await Promise.all(response.items.map(item => getDownloadURL(item)));\n        setVideos(urls);\n      } catch (error) {\n        console.error(\"Error fetching videos:\", error);\n      }\n    };\n    fetchVideos();\n  }, []);\n  useEffect(() => {\n    onAuthStateChanged(auth, user => {\n      if (user) {\n        setIsAuthenticated(true);\n        setIsAdmin(user.email === \"epsilonclasher12@gmail.com\");\n      } else {\n        setIsAuthenticated(false);\n        setIsAdmin(false);\n      }\n    });\n  }, []);\n  const handleGoogleLogin = async () => {\n    try {\n      await signInWithPopup(auth, provider);\n    } catch (error) {\n      console.error(\"Error logging in:\", error);\n    }\n  };\n  const handleLogout = async () => {\n    try {\n      await signOut(auth);\n      setIsAuthenticated(false);\n      setIsAdmin(false);\n    } catch (error) {\n      console.error(\"Error logging out:\", error);\n    }\n  };\n  const uploadVideo = async () => {\n    if (videoUpload == null) return;\n    const videoRef = ref(storage, `images/${videoUpload.name}`);\n    try {\n      await uploadBytes(videoRef, videoUpload);\n      alert(\"Upload successful\");\n      const url = await getDownloadURL(videoRef);\n      setVideos(prev => [...prev, url]);\n    } catch (error) {\n      console.error(\"Error uploading video:\", error);\n      alert(\"Upload failed\");\n    }\n  };\n  const handleNextVideo = () => {\n    setCurrentVideoIndex(prevIndex => (prevIndex + 1) % videos.length);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App container my-4\",\n    children: !isAuthenticated ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: handleGoogleLogin,\n        children: \"Login with Google\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between align-items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Welcome \", isAdmin ? \"Admin\" : \"User\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-danger\",\n          onClick: handleLogout,\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"video-container mb-4\",\n          children: videos.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"video\", {\n              src: videos[currentVideoIndex],\n              controls: true,\n              className: \"mb-2\",\n              width: \"500\"\n            }, currentVideoIndex, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-secondary\",\n              onClick: handleNextVideo,\n              children: \"Next\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No videos available\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this), isAdmin && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"upload-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            className: \"form-control mb-2\",\n            onChange: event => setVideoUpload(event.target.files[0])\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: uploadVideo,\n            children: \"Upload\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"YK9cHs/Uxz085LLoweCxVVzgf6k=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","storage","auth","provider","ref","uploadBytes","listAll","getDownloadURL","signInWithPopup","onAuthStateChanged","signOut","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","isAuthenticated","setIsAuthenticated","isAdmin","setIsAdmin","videos","setVideos","videoUpload","setVideoUpload","currentVideoIndex","setCurrentVideoIndex","videoRef","fetchVideos","response","urls","Promise","all","items","map","item","error","console","user","email","handleGoogleLogin","handleLogout","uploadVideo","name","alert","url","prev","handleNextVideo","prevIndex","length","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","src","controls","width","type","onChange","event","target","files","_c","$RefreshReg$"],"sources":["/home/mahidhar/Desktop/ReactApp/reels/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport { storage, auth, provider } from \"./firebase\";\nimport { ref, uploadBytes, listAll, getDownloadURL } from \"firebase/storage\";\nimport { signInWithPopup, onAuthStateChanged, signOut } from \"firebase/auth\";\n\nfunction App() {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [videos, setVideos] = useState([]);\n  const [videoUpload, setVideoUpload] = useState(null);\n  const [currentVideoIndex, setCurrentVideoIndex] = useState(0);\n\n  useEffect(() => {\n    const videoRef = ref(storage, \"images\");\n    const fetchVideos = async () => {\n      try {\n        const response = await listAll(videoRef);\n        const urls = await Promise.all(\n          response.items.map(item => getDownloadURL(item))\n        );\n        setVideos(urls);\n      } catch (error) {\n        console.error(\"Error fetching videos:\", error);\n      }\n    };\n    fetchVideos();\n  }, []);\n\n  useEffect(() => {\n    onAuthStateChanged(auth, (user) => {\n      if (user) {\n        setIsAuthenticated(true);\n        setIsAdmin(user.email === \"epsilonclasher12@gmail.com\");\n      } else {\n        setIsAuthenticated(false);\n        setIsAdmin(false);\n      }\n    });\n  }, []);\n\n  const handleGoogleLogin = async () => {\n    try {\n      await signInWithPopup(auth, provider);\n    } catch (error) {\n      console.error(\"Error logging in:\", error);\n    }\n  };\n\n  const handleLogout = async () => {\n    try {\n      await signOut(auth);\n      setIsAuthenticated(false);\n      setIsAdmin(false);\n    } catch (error) {\n      console.error(\"Error logging out:\", error);\n    }\n  };\n\n  const uploadVideo = async () => {\n    if (videoUpload == null) return;\n    const videoRef = ref(storage, `images/${videoUpload.name}`);\n    try {\n      await uploadBytes(videoRef, videoUpload);\n      alert(\"Upload successful\");\n      const url = await getDownloadURL(videoRef);\n      setVideos((prev) => [...prev, url]);\n    } catch (error) {\n      console.error(\"Error uploading video:\", error);\n      alert(\"Upload failed\");\n    }\n  };\n\n  const handleNextVideo = () => {\n    setCurrentVideoIndex((prevIndex) => (prevIndex + 1) % videos.length);\n  };\n\n  return (\n    <div className=\"App container my-4\">\n      {!isAuthenticated ? (\n        <div className=\"login-container\">\n          <h2>Login</h2>\n          <button className=\"btn btn-primary\" onClick={handleGoogleLogin}>\n            Login with Google\n          </button>\n        </div>\n      ) : (\n        <>\n          <div className=\"d-flex justify-content-between align-items-center mb-4\">\n            <h2>Welcome {isAdmin ? \"Admin\" : \"User\"}</h2>\n            <button className=\"btn btn-danger\" onClick={handleLogout}>\n              Logout\n            </button>\n          </div>\n          <div className=\"content\">\n            <div className=\"video-container mb-4\">\n              {videos.length > 0 ? (\n                <>\n                  <video\n                    key={currentVideoIndex}\n                    src={videos[currentVideoIndex]}\n                    controls\n                    className=\"mb-2\"\n                    width=\"500\"\n                  />\n                  <button className=\"btn btn-secondary\" onClick={handleNextVideo}>\n                    Next\n                  </button>\n                </>\n              ) : (\n                <p>No videos available</p>\n              )}\n            </div>\n\n            {isAdmin && (\n              <div className=\"upload-container\">\n                <input\n                  type=\"file\"\n                  className=\"form-control mb-2\"\n                  onChange={(event) => setVideoUpload(event.target.files[0])}\n                />\n                <button className=\"btn btn-primary\" onClick={uploadVideo}>\n                  Upload\n                </button>\n              </div>\n            )}\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}